/*! For license information please see main.js.LICENSE.txt */
!function(){"use strict";(class{static#t="wrapper";static#e="items";static#s="item";static#i="item_active";static#n="indicator";static#r="indicator_active";static#h="btn_prev";static#l="btn_next";static#a="btn_hide";static#m="transition-none";static#c=[];#o;#d;constructor(t,e={},s="itc-slider__"){this.#d={prefix:s,el:t,elWrapper:t.querySelector(`.${s}${this.constructor.#t}`),elItems:t.querySelector(`.${s}${this.constructor.#e}`),elListItem:t.querySelectorAll(`.${s}${this.constructor.#s}`),btnPrev:t.querySelector(`.${s}${this.constructor.#h}`),btnNext:t.querySelector(`.${s}${this.constructor.#l}`),btnClassHide:s+this.constructor.#a,exOrderMin:0,exOrderMax:0,exItemMin:null,exItemMax:null,exTranslateMin:0,exTranslateMax:0,direction:"next",intervalId:null,isSwiping:!1,swipeX:0},this.#o={loop:!0,autoplay:!1,interval:5e3,refresh:!0,swipe:!0,...e},this.#u(),this.#p()}static getInstance(t){let e=this.#c.find((e=>e.target===t));return e?e.instance:null}static getOrCreateInstance(t,e={},s="itc-slider__"){try{let i="string"==typeof t?document.querySelector(t):t,n=this.getInstance(i);if(n)return n;let r=new this(i,e,s);return this.#c.push({target:i,instance:r}),r}catch(t){console.error(t)}}static createInstances(){document.querySelectorAll('[data-slider="itc-slider"]').forEach((t=>{let e=t.dataset,s={};Object.keys(e).forEach((t=>{if("slider"===t)return;let i=e[t];i=Number.isNaN(Number(i="false"!==(i="true"===i||i)&&i))?Number(i):i,s[t]=i})),this.getOrCreateInstance(t,s)}))}next(){this.#d.direction="next",this.#v()}prev(){this.#d.direction="prev",this.#v()}moveTo(t){this.#x(t)}reset(){this.#f()}dispose(){this.#I();let t=this.#d.prefix+this.constructor.#m,e=this.#d.prefix+this.constructor.#i;this.#b("stop"),this.#d.elItems.classList.add(t),this.#d.elItems.style.transform="",this.#d.elListItem.forEach((t=>{t.style.transform="",t.classList.remove(e)}));let s=`${this.#d.prefix}${this.constructor.#r}`;document.querySelectorAll(`.${s}`).forEach((t=>{t.classList.remove(s)})),this.#d.elItems.offsetHeight,this.#d.elItems.classList.remove(t);let i=this.constructor.#c.findIndex((t=>t.target===this.#d.el));this.constructor.#c.splice(i,1)}#g(t){let e=this.#d.prefix+this.constructor.#h,s=this.#d.prefix+this.constructor.#l;if(this.#b("stop"),t.target.closest(`.${e}`)||t.target.closest(`.${s}`))this.#d.direction=t.target.closest(`.${e}`)?"prev":"next",this.#v();else if(t.target.dataset.slideTo){let e=parseInt(t.target.dataset.slideTo,10);this.#x(e)}this.#o.loop&&this.#b()}#w(){this.#b("stop")}#y(){this.#b()}#L(){window.requestAnimationFrame(this.#f.bind(this))}#M(t){this.#b("stop");let e=0===t.type.search("touch")?t.touches[0]:t;this.#d.swipeX=e.clientX,this.#d.isSwiping=!0}#_(t){if(!this.#d.isSwiping)return;let e=0===t.type.search("touch")?t.changedTouches[0]:t,s=this.#d.swipeX-e.clientX;s>50?(this.#d.direction="next",this.#v()):s<-50&&(this.#d.direction="prev",this.#v()),this.#d.isSwiping=!1,this.#o.loop&&this.#b()}#q(){!this.#d.isBalancing&&(this.#d.isBalancing=!0,window.requestAnimationFrame(this.#S.bind(this)))}#$(){this.#d.isBalancing=!1}#E(t){t.preventDefault()}#k(){"hidden"===document.visibilityState?this.#b("stop"):"visible"===document.visibilityState&&this.#o.loop&&this.#b()}#p(){this.#d.events={click:[this.#d.el,this.#g.bind(this),!0],mouseenter:[this.#d.el,this.#w.bind(this),!0],mouseleave:[this.#d.el,this.#y.bind(this),!0],resize:[window,this.#L.bind(this),this.#o.refresh],"itc-slider__transition-start":[this.#d.elItems,this.#q.bind(this),this.#o.loop],transitionend:[this.#d.elItems,this.#$.bind(this),this.#o.loop],touchstart:[this.#d.el,this.#M.bind(this),this.#o.swipe],mousedown:[this.#d.el,this.#M.bind(this),this.#o.swipe],touchend:[document,this.#_.bind(this),this.#o.swipe],mouseup:[document,this.#_.bind(this),this.#o.swipe],dragstart:[this.#d.el,this.#E.bind(this),!0],visibilitychange:[document,this.#k.bind(this),!0]},Object.keys(this.#d.events).forEach((t=>{if(this.#d.events[t][2]){let e=this.#d.events[t][0],s=this.#d.events[t][1];e.addEventListener(t,s)}}))}#I(){Object.keys(this.#d.events).forEach((t=>{if(this.#d.events[t][2]){let e=this.#d.events[t][0],s=this.#d.events[t][1];e.removeEventListener(t,s)}}))}#b(t){if(this.#o.autoplay){if("stop"===t)return clearInterval(this.#d.intervalId),void(this.#d.intervalId=null);null===this.#d.intervalId&&(this.#d.intervalId=setInterval((()=>{this.#d.direction="next",this.#v()}),this.#o.interval))}}#S(){if(!this.#d.isBalancing)return;let t=this.#d.elWrapper.getBoundingClientRect(),e=t.width/this.#d.countActiveItems/2,s=this.#d.elListItem.length;if("next"===this.#d.direction){if(this.#d.exItemMin.getBoundingClientRect().right<t.left-e){let t=this.#d.els.find((t=>t.el===this.#d.exItemMin));t.order=this.#d.exOrderMin+s;let e=this.#d.exTranslateMin+s*this.#d.width;t.translate=e,this.#d.exItemMin.style.transform=`translate3D(${e}px, 0px, 0.1px)`,this.#C()}}else if(this.#d.exItemMax.getBoundingClientRect().left>t.right+e){let t=this.#d.els.find((t=>t.el===this.#d.exItemMax));t.order=this.#d.exOrderMax-s;let e=this.#d.exTranslateMax-s*this.#d.width;t.translate=e,this.#d.exItemMax.style.transform=`translate3D(${e}px, 0px, 0.1px)`,this.#C()}window.requestAnimationFrame(this.#S.bind(this))}#A(){let t=this.#d.prefix+this.constructor.#i;this.#d.activeItems.forEach(((e,s)=>{e?this.#d.elListItem[s].classList.add(t):this.#d.elListItem[s].classList.remove(t);let i=this.#d.el.querySelectorAll(`.${this.#d.prefix}${this.constructor.#n}`);i.length&&e?i[s].classList.add(`${this.#d.prefix}${this.constructor.#r}`):i.length&&!e&&i[s].classList.remove(`${this.#d.prefix}${this.constructor.#r}`)}))}#v(){let t="next"===this.#d.direction?-this.#d.width:this.#d.width,e=this.#d.translate+t;if(!this.#o.loop){let t=this.#d.width*(this.#d.elListItem.length-this.#d.countActiveItems);if(e<-t||e>0)return;this.#d.btnPrev&&(this.#d.btnPrev.classList.remove(this.#d.btnClassHide),this.#d.btnNext.classList.remove(this.#d.btnClassHide)),this.#d.btnPrev&&e===-t?this.#d.btnNext.classList.add(this.#d.btnClassHide):this.#d.btnPrev&&0===e&&this.#d.btnPrev.classList.add(this.#d.btnClassHide)}"next"===this.#d.direction?this.#d.activeItems=[...this.#d.activeItems.slice(-1),...this.#d.activeItems.slice(0,-1)]:this.#d.activeItems=[...this.#d.activeItems.slice(1),...this.#d.activeItems.slice(0,1)],this.#A(),this.#d.translate=e,this.#d.elItems.style.transform=`translate3D(${e}px, 0px, 0.1px)`,this.#d.elItems.dispatchEvent(new CustomEvent("itc-slider__transition-start",{bubbles:!0}))}#x(t){let e=this.#d.activeItems.reduce(((e,s,i)=>{let n=s?t-i:e;return Math.abs(n)<Math.abs(e)?n:e}),this.#d.activeItems.length);if(0!==e){this.#d.direction=e>0?"next":"prev";for(let t=0;t<Math.abs(e);t++)this.#v()}}#u(){this.#d.els=[],this.#d.translate=0,this.#d.activeItems=[],this.#d.isBalancing=!1,this.#d.width=this.#d.elListItem[0].getBoundingClientRect().width;let t=this.#d.elWrapper.getBoundingClientRect().width;if(this.#d.countActiveItems=Math.round(t/this.#d.width),this.#d.elListItem.forEach(((t,e)=>{t.style.transform="",this.#d.activeItems.push(e<this.#d.countActiveItems?1:0),this.#d.els.push({el:t,index:e,order:e,translate:0})})),this.#o.loop){let t=this.#d.elListItem.length-1,e=-(t+1)*this.#d.width;this.#d.elListItem[t].style.transform=`translate3D(${e}px, 0px, 0.1px)`,this.#d.els[t].order=-1,this.#d.els[t].translate=e,this.#C()}else this.#d.btnPrev&&this.#d.btnPrev.classList.add(this.#d.btnClassHide);this.#A(),this.#b()}#f(){let t=this.#d.prefix+this.constructor.#m,e=this.#d.elListItem[0].getBoundingClientRect().width,s=this.#d.elWrapper.getBoundingClientRect().width;(e!==this.#d.width||Math.round(s/e)!==this.#d.countActiveItems)&&(this.#b("stop"),this.#d.elItems.classList.add(t),this.#d.elItems.style.transform="translate3D(0px, 0px, 0.1px)",this.#u(),window.requestAnimationFrame((()=>{this.#d.elItems.classList.remove(t)})))}#C(){let t=this.#d.els.map((t=>t.el)),e=this.#d.els.map((t=>t.order));this.#d.exOrderMin=Math.min(...e),this.#d.exOrderMax=Math.max(...e);let s=e.indexOf(this.#d.exOrderMin),i=e.indexOf(this.#d.exOrderMax);this.#d.exItemMin=t[s],this.#d.exItemMax=t[i],this.#d.exTranslateMin=this.#d.els[s].translate,this.#d.exTranslateMax=this.#d.els[i].translate}}).createInstances();const t=document.querySelector(".burger"),e=document.querySelector(".nav"),s=document.querySelector(".nav__close"),i=document.querySelectorAll(".nav__link"),n=document.querySelector(".header__phone--mobile"),r=()=>e.classList.remove("nav--active");t.addEventListener("click",(()=>e.classList.add("nav--active"))),s.addEventListener("click",r),n.addEventListener("click",r),i.forEach((t=>{t.addEventListener("click",r)}));const h=document.querySelector(".modal"),l=document.querySelector(".modal__content"),a=document.querySelector(".modal__close"),m=document.querySelector(".promo__button"),c=()=>{h.classList.remove("modal--active"),l.classList.remove("modal__content--active")};m.addEventListener("click",(()=>{h.classList.add("modal--active"),l.classList.add("modal__content--active")})),h.addEventListener("click",c),a.addEventListener("click",c);const o=document.querySelector(".form");o.addEventListener("submit",(async function(t){t.preventDefault();let e=new FormData(o),s=await fetch("sendmail.php",{method:"POST",body:e});s.ok&&(await s.json(),o.reset(),c())}))}();